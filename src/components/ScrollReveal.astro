---
// Simple scroll reveal animation wrapper
// Animates elements into view as user scrolls
---

<div class="scroll-reveal">
  <slot />
</div>

<style>
  .scroll-reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: all 600ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .scroll-reveal.visible {
    opacity: 1;
    transform: translateY(0) translateX(0);
  }

  @media (prefers-reduced-motion: reduce) {
    .scroll-reveal {
      animation: none !important;
      transition: none !important;
    }
  }
</style>

<script>
  (function() {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const el = entry.target;
          const delay = parseInt(el.dataset.delay) || 0;
          setTimeout(() => {
            el.classList.add('visible');
          }, delay);
          observer.unobserve(el);
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });

    document.querySelectorAll('.scroll-reveal').forEach(el => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(20px)';
      el.style.transition = 'all 600ms cubic-bezier(0.4, 0, 0.2, 1)';
      observer.observe(el);
    });
  })();
</script>
