---
// AI Agent Status Indicators component
// Shows committee members with online/offline/working states
---

interface Agent {
  name: string;
  wing: string;
  status: 'online' | 'working' | 'offline';
}

interface Props {
  agents: Agent[];
}

const { agents } = Astro.props;
---

<div class="bg-white section">
  <section class="container">
    <div class="text-center mb-8">
      <h2 class="text-2xl font-bold mb-2">AI Committee Status</h2>
      <p class="text-gray-600">Real-time status of committee wings</p>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
      {agents.map((agent, index) => (
        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
          <div class="flex items-center gap-3 mb-3">
            <div class={`w-3 h-3 rounded-full ${agent.status === 'online' ? 'bg-green-400' : agent.status === 'working' ? 'bg-yellow-400' : 'bg-gray-400'}`}>
              {agent.status === 'online' && (
                <div class="animate-pulse w-full h-full rounded-full bg-green-400"></div>
              )}
            </div>
            <div>
              <div class="font-semibold">{agent.name}</div>
              <div class="text-sm text-gray-500">{agent.wing}</div>
            </div>
          </div>
          <div class={`text-xs font-medium ${agent.status === 'online' ? 'text-green-400' : agent.status === 'working' ? 'text-yellow-400' : 'text-gray-400'}`}>
            {agent.status === 'online' && '● Online'}
            {agent.status === 'working' && '● Working'}
            {agent.status === 'offline' && '● Offline'}
          </div>
        </div>
      ))}
    </div>
  </section>
</div>

<style>
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-pulse {
      animation: none !important;
    }
  }
</style>
